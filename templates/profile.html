<!DOCTYPE html>
<html lang="en">
	<head>
		<title>{{ account.username }}'s profile - GameHub</title>
		<script src="/static/js/dist/profile.js"></script>
		{% if production %}
		<link rel="stylesheet" href="/static/css/dist/profile.css" />
		{% else %}
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="stylesheet" href="/static/css/dev/selection.css" />
		{% endif %}
	</head>

	<body class="bg-zinc-900" data-user-name="{{ account.username }}">
		<div class="flex flex-wrap bg-zinc-900 w-full h-screen">
			<div
				class="fixed z-10 inset-0 overflow-y-auto hidden"
				aria-labelledby="modal-title"
				role="dialog"
				aria-modal="true"
				data-type="modal"
				id="report-modal"
			>
				<div
					class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
				>
					<div
						class="fixed inset-0 bg-zinc-900 bg-opacity-75 transition-opacity"
						aria-hidden="true"
					></div>

					<span
						class="hidden md:inline xl:text-xl-block sm:align-middle sm:h-screen"
						aria-hidden="true"
						>&#8203;</span
					>
					<div
						class="relative inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full"
					>
						<div class="bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 w-full">
							<form class="space-y-6" action="#" id="report-form">
								<div class="flex">
									<p
										class="justify-start text-2xl md:text-xl font-medium text-white"
									>
										Report
									</p>
									<button
										data-form-exclude="true"
										type="button"
										class="justify-end rounded-lg lg:text-sm ml-auto text-zinc-500 hover:text-zinc-400 transition-all"
										data-type="modalclose"
									>
										<svg
											class="w-8 h-8 md:w-6 md:h-6"
											fill="currentColor"
											viewBox="0 0 20 20"
											xmlns="http://www.w3.org/2000/svg"
										>
											<path
												fill-rule="evenodd"
												d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
												clip-rule="evenodd"
											></path>
										</svg>
									</button>
								</div>
								<small></small>

								<div>
									<label
										for="reason"
										class="block mb-2 text-lg lg:text-sm font-medium text-zinc-400"
										>Reason</label
									>
									<textarea
										name="reason"
										id="report-reason"
										placeholder="Owns a slave ring in the middle east..."
										class="bg-zinc-900 lg:text-sm rounded-lg h-fit block w-full p-2.5 focus:bg-zinc-700 text-white focus:outline-none"
									></textarea>
									<small></small>
								</div>

								<button
									data-form-exclude="true"
									type="submit"
									class="font-bold text-xl drop-shadow-md border-solid border-2 border-rose-400 hover:bg-rose-400 p-3 lg:p-2 rounded-lg lg:rounded transition-all duration-300 w-full text-white bg-zinc-900"
								>
									Report
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
			<div
				class="fixed z-10 inset-0 overflow-y-auto hidden"
				aria-labelledby="modal-title"
				role="dialog"
				aria-modal="true"
				data-type="modal"
				id="terminate-modal"
			>
				<div
					class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
				>
					<div
						class="fixed inset-0 bg-zinc-900 bg-opacity-75 transition-opacity"
						aria-hidden="true"
					></div>

					<span
						class="hidden md:inline xl:text-xl-block sm:align-middle sm:h-screen"
						aria-hidden="true"
						>&#8203;</span
					>
					<div
						class="relative inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full"
					>
						<div class="bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 w-full">
							<form class="space-y-6" action="#" id="report-form">
								<div class="flex">
									<p
										class="justify-start text-2xl md:text-xl font-medium text-white"
									>
										Account Termination
									</p>
									<button
										data-form-exclude="true"
										type="button"
										class="justify-end rounded-lg lg:text-sm ml-auto text-zinc-500 hover:text-zinc-400 transition-all"
										data-type="modalclose"
									>
										<svg
											class="w-8 h-8 md:w-6 md:h-6"
											fill="currentColor"
											viewBox="0 0 20 20"
											xmlns="http://www.w3.org/2000/svg"
										>
											<path
												fill-rule="evenodd"
												d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
												clip-rule="evenodd"
											></path>
										</svg>
									</button>
								</div>
								<small></small>

								<div>
									<label
										for="reason"
										class="block mb-2 text-lg lg:text-sm font-medium text-zinc-400"
										>Reason</label
									>
									<textarea
										name="reason"
										id="terminate-reason"
										placeholder="Sacrificed my pet lamb..."
										class="bg-zinc-900 lg:text-sm rounded-lg h-fit block w-full p-2.5 focus:bg-zinc-700 text-white focus:outline-none"
									></textarea>
									<small></small>
								</div>

								<button
									data-form-exclude="true"
									type="submit"
									class="font-bold text-xl drop-shadow-md border-solid border-2 border-rose-600 hover:bg-rose-600 p-3 lg:p-2 rounded-lg lg:rounded transition-all duration-300 w-full text-white bg-zinc-900"
								>
									Terminate
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
			<div
				class="fixed z-10 inset-0 overflow-y-auto hidden"
				aria-labelledby="modal-title"
				role="dialog"
				aria-modal="true"
				data-type="modal"
				id="promote-modal"
			>
				<div
					class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
				>
					<div
						class="fixed inset-0 bg-zinc-900 bg-opacity-75 transition-opacity"
						aria-hidden="true"
					></div>

					<span
						class="hidden md:inline xl:text-xl-block sm:align-middle sm:h-screen"
						aria-hidden="true"
						>&#8203;</span
					>
					<div
						class="relative inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full"
					>
						<div class="bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 w-full">
							<div class="text-center">
								<p class="text-xl text-white font-bold">
									Are you sure you want to promote this account?
								</p>
							</div>

							<div class="flex pt-8 space-x-6">
								<button
									data-type="modalclose"
									type="submit"
									class="font-bold text-xl drop-shadow-md border-solid border-2 border-zinc-400 hover:bg-zinc-400 p-3 lg:p-2 rounded-lg lg:rounded transition-all duration-300 w-full text-white bg-zinc-900"
								>
									Cancel
								</button>
								<button
									onclick="terminateAccount()"
									id="terminate-btn"
									class="font-bold text-xl drop-shadow-md border-solid border-2 border-emerald-600 hover:bg-emerald-600 p-3 lg:p-2 rounded-lg lg:rounded transition-all duration-300 w-full text-white bg-zinc-900"
								>
									Promote
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<nav
				class="w-3/12 bg-zinc-800 rounded p-3 shadow-lg self-start sticky top-0 h-screen overflow-y-auto"
			>
				<div class="flex space-x-4 p-2 mb-5 justify-center">
					<p
						class="text-white hidden lg:inline lg:text-3xl xl:text-5xl font-bold tracking-wide"
					>
						Game<span
							class="bg-gradient-to-r from-orange-400 to-orange-500 bg-clip-text text-transparent"
							>Hub</span
						>
					</p>

					<p></p>
				</div>

				<svg class="h-7 w-7 md:h-6 md:w-6 2xl:w-8 2xl:h-8 hidden"></svg>
				<!-- ^^ makes sure the svg classes are compiled by tailwind -->

				<ul class="space-y-2">
					{% for navitem in nav %} {% if not navitem.marker %}
					<li>
						<a
							data-type="navlink"
							href="{{ navitem.href }}"
							class="flex items-center space-x-3 text-white p-2 rounded-md font-medium hover:bg-zinc-700 focus:shadow-outline"
						>
							<span class="text-white m-auto md:m-0">
								{{ navitem.svg|safe }}
							</span>
							<span class="hidden md:inline 2xl:text-xl"
								>{{ navitem.title }}</span
							>
						</a>
					</li>
					{% else %}
					<div class="py-4">
						<hr class="w-full border-t border-zinc-700" />
					</div>
					{% endif %} {% endfor %}
				</ul>
			</nav>

			<div class="w-9/12 text-white overflow-y-auto">
				<div class="p-6 h-screen flex m-auto">
					<div class="rounded bg-zinc-800 w-3/4 lg:w-1/2 p-4 m-auto">
						<div class="flex">
							<div>
								<div class="flex space-x-3 drop-shadow-lg">
									{% if account.account_type in ("admin", "owner") %}
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-14 w-14"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
										/>
									</svg>
									{% elif account.account_type == "developer" %}
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-14 w-14"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
										/>
									</svg>
									{% endif %}
									<p class="font-semibold text-5xl">{{ account.username }}</p>
								</div>

								<p class="font-thin text-zinc-300 text-xl">
									{{ account.account_type.capitalize() }}
								</p>
							</div>
							<div class="self-center ml-auto flex space-x-2">
								<div
									class="bg-zinc-700 hover:bg-rose-400 rounded-lg p-1 transition-all"
									onclick="openReportModal()"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-10 w-10"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
										/>
									</svg>
								</div>
								{% if (user) and (user.account_type != "user") and
								(user.username != account.username) %}
								<!-- this is just here so prettier doesnt merge these jinja statments -->
								{% if (account.account_type != "developer") and
								(has_access(user.account_type, account.account_type)) %}
								<div
									class="bg-zinc-700 hover:bg-emerald-500 rounded-lg p-1 transition-all"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-10 w-10"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M5 11l7-7 7 7M5 19l7-7 7 7"
										/>
									</svg>
								</div>
								{% endif %}
								<!-- this is just here so prettier doesnt merge these jinja statments -->
								{% if (account.account_type != "user") and
								(has_access(user.account_type, account.account_type)) %}
								<div
									class="bg-zinc-700 hover:bg-rose-500 rounded-lg p-1 transition-all"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-10 w-10"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M19 13l-7 7-7-7m14-8l-7 7-7-7"
										/>
									</svg>
								</div>
								{% endif %} {% if (has_access(user.account_type,
								account.account_type)) %}
								<div
									class="bg-rose-900 hover:bg-rose-700 rounded-lg p-1 transition-all"
									onclick="terminateModal()"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-10 w-10"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"
										/>
									</svg>
								</div>
								{% endif %} {% endif %}
							</div>
						</div>

						<div class="py-4">
							<hr class="w-full border-t border-zinc-700" />
						</div>
						{% if account.likes %}
						<p class="text-2xl">Likes</p>
						<ul class="overflow-y-auto h-32">
							{% for game in account.likes %}
							<li class="font-thin text-zinc-400">{{ game }}</li>
							{% endfor %}
						</ul>
						{% else %}
						<p class="text-lg font-thin text-zinc-300 italic">
							This user has no likes.
						</p>
						{% endif %}
						<div class="py-4">
							<hr class="w-full border-t border-zinc-700" />
						</div>
						{% if account.comments %}

						<p class="text-2xl">Comments</p>
						<ul class="pt-2 overflow-y-auto">
							<div class="h-96">
								{% for comment in account.comments %}
								<li class="pt-2">
									<div
										class="text-white bg-zinc-700 rounded-lg p-2 break-words"
									>
										<div class="flex space-x-4">
											<p class="font-semibold">{{ comment.game }}</p>
											<p data-type="epoch" class="font-semibold text-zinc-500">
												{{ comment.epoch }}
											</p>
										</div>

										<p class="font-thin text-zinc-400">{{ comment.content }}</p>
									</div>
								</li>
								{% endfor %}
							</div>
						</ul>
						{% else %}
						<p class="text-lg font-thin text-zinc-300 italic">
							This user has no comments.
						</p>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
