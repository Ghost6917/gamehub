<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Games - GameHub</title>
		{% if production %}
		<link rel="stylesheet" href="/static/css/dist/games.css" />
		{% else %}
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="stylesheet" href="/static/css/dev/selection.css" />
		<link rel="stylesheet" href="/static/css/dev/placeholder.css" />
		{% endif %}
		<script src="/static/js/dist/games.js"></script>
	</head>

	<body class="bg-zinc-900">
		<div class="hidden">
			<!-- to make sure these classes are found by tailwind -->
			<span class="h-72 space-x-1"></span>
			<div class="text-white bg-zinc-700 rounded-lg p-2">
				<div class="flex break-words">
					<a class="font-semibold hover:opacity-50 transition-all"></a>
					<p data-type="epoch" class="font-semibold pl-3 text-zinc-500"></p>
				</div>
				<p class="font-thin text-zinc-400"></p>
			</div>
		</div>
		<div class="flex flex-wrap bg-zinc-900 w-full">
			<div
				class="fixed z-10 inset-0 overflow-y-auto hidden"
				aria-labelledby="modal-title"
				role="dialog"
				aria-modal="true"
				data-type="modal"
				id="comment-modal"
			>
				<div
					class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
				>
					<div
						class="fixed inset-0 bg-zinc-900 bg-opacity-75 transition-opacity"
						aria-hidden="true"
					></div>

					<span
						class="hidden md:inline xl:text-xl-block sm:align-middle sm:h-screen"
						aria-hidden="true"
						>&#8203;</span
					>
					<div
						class="relative inline-block align-bottom bg-zinc-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
					>
						<div class="bg-zinc-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
							<div class="flex">
								<p
									class="justify-start text-2xl md:text-xl font-medium text-white"
								>
									Comments
								</p>
								<button
									type="button"
									class="justify-end rounded-lg lg:text-sm ml-auto text-zinc-500 hover:text-zinc-400 transition-all"
									data-type="modalclose"
								>
									<svg
										class="w-8 h-8 md:w-6 md:h-6"
										fill="currentColor"
										viewBox="0 0 20 20"
										xmlns="http://www.w3.org/2000/svg"
									>
										<path
											fill-rule="evenodd"
											d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
											clip-rule="evenodd"
										></path>
									</svg>
								</button>
							</div>
							<ul id="commentBody" class="overflow-y-auto h-72">
								<svg
									role="status"
									class="p-3 mr-2 w-14 h-14 text-zinc-700 animate-spin fill-orange-400"
									viewBox="0 0 100 101"
									fill="none"
									xmlns="http://www.w3.org/2000/svg"
								>
									<path
										d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
										fill="currentColor"
									/>
									<path
										d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
										fill="currentFill"
									/>
								</svg>
							</ul>

							{% if user %}
							<form action="#" id="comment-form" class="pt-2">
								<small></small>
								<label
									for="content"
									class="block mb-2 text-xl lg:text-sm font-medium text-zinc-400"
									>Comment</label
								>

								<div class="flex h-fit">
									<div class="w-full">
										<input
											type="text"
											name="content"
											id="comment-content"
											placeholder="The FitnessGram Pacer test..."
											class="bg-zinc-900 w-full text-md lg:text-sm rounded-lg bloc p-2.5 focus:bg-zinc-700 text-white focus:outline-none"
										/>
										<small class="z-20"></small>
									</div>
									<div class="pl-2">
										<button
											data-form-exclude="true"
											type="submit"
											class="drop-shadow-lg md:bg-zinc-900 bg-emerald-400 border-solid border-2 border-emerald-400 md:hover:bg-emerald-400 p-2 rounded transition-all duration-300 text-white"
										>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="h-5 w-5"
												fill="none"
												viewBox="0 0 24 24"
												stroke="currentColor"
												stroke-width="2"
											>
												<path
													stroke-linecap="round"
													stroke-linejoin="round"
													d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
												/>
											</svg>
										</button>
									</div>
								</div>
							</form>
							{% else %}
							<div>
								<p class="text-zinc-500">
									You must be logged in to comment. Click
									<a
										href="/login"
										class="text-orange-400 hover:text-orange-300 transition-all"
										>here</a
									>
									to login
								</p>
							</div>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
			<nav
				class="w-3/12 bg-zinc-800 rounded p-3 shadow-lg self-start sticky top-0 h-screen overflow-y-auto"
			>
				<div class="flex space-x-4 p-2 mb-5 justify-center">
					<p
						class="text-white hidden lg:inline lg:text-3xl xl:text-5xl font-bold tracking-wide"
					>
						Game<span
							class="bg-gradient-to-r from-orange-400 to-orange-500 bg-clip-text text-transparent"
							>Hub</span
						>
					</p>

					<p></p>
				</div>

				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-7 w-7 md:h-6 md:w-6 2xl:w-8 2xl:h-8 hidden"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor"
					stroke-width="2"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"
					/>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"
					/>
				</svg>
				<!-- ^^ makes sure the svg classes are compiled by tailwind -->

				<ul class="space-y-2">
					{% for navitem in nav %} {% if not navitem.marker %}
					<li>
						<a
							data-type="navlink"
							href="{{ navitem.href }}"
							class="flex items-center space-x-3 text-white p-2 rounded-md font-medium hover:bg-zinc-700 focus:shadow-outline"
						>
							<span class="text-white m-auto md:m-0">
								{{ navitem.svg|safe }}
							</span>
							<span class="hidden md:inline 2xl:text-xl"
								>{{ navitem.title }}</span
							>
						</a>
					</li>
					{% else %}
					<div class="py-4">
						<hr class="w-full border-t border-zinc-700" />
					</div>
					{% endif %} {% endfor %}
				</ul>
			</nav>

			<div class="w-9/12 text-white">
				<div class="p-4">
					<h1 class="text-white text-5xl lg:text-6xl font-bold text-center">
						Games
					</h1>
				</div>
				<div class="p-4">
					<div
						class="grid grid-cols-1 md:grid-cols-2 gap-5 p-7 first:pt-4 last:pb-4"
					>
						{% for game in games %}
						<div class="bg-zinc-800 rounded p-4 drop-shadow-lg">
							<div class="flex space-x-5">
								<div
									data-liked="{{ liked(user.username, game.likes) }}"
									data-game-name="{{ game.name }}"
									data-type="likebutton"
									class="{{ 'text-rose-500' if liked(user.username, game.likes) else 'text-zinc-400' }} {{ 'hover:text-rose-400' if liked(user.username, game.likes) else 'hover:text-zinc-300' }} w-fit transition-all flex items-center space-x-2"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 lg:h-6 lg:w-6 group-hover:drop-shadow-lg"
										viewBox="0 0 20 20"
										fill="currentColor"
									>
										<path
											d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"
										/>
									</svg>
									<p
										class="font-bold select-none text-xl sm:text-md md:text-xl lg:text-lg"
									>
										{{ len(game.likes) }}
									</p>
								</div>

								<div
									class="text-zinc-400 w-fit transition-all flex items-center space-x-2 hover:text-zinc-300"
									data-type="opencomments"
									data-game-name="{{ game.name }}"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 lg:h-6 lg:w-6 group-hover:drop-shadow-lg"
										fill="none"
										viewBox="0 0 24 24"
										stroke="currentColor"
										stroke-width="2"
									>
										<path
											stroke-linecap="round"
											stroke-linejoin="round"
											d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"
										/>
									</svg>
									<p
										data-type="commentlen"
										data-game-name="{{ game.name }}"
										class="font-bold select-none text-xl sm:text-md md:text-xl lg:text-lg"
									>
										{{ len(game.comments) }}
									</p>
								</div>
							</div>

							<p class="text-zinc-200 text-3xl md:text-2xl">{{ game.name }}</p>
							<div class="py-4">
								<hr class="w-full border-t border-zinc-700" />
							</div>

							<div class="grid grid-cols-3 text-center">
								<a
									href="{{ game.data }}"
									class="drop-shadow-lg md:bg-zinc-800 bg-orange-400 border-solid border-2 border-orange-400 md:hover:bg-orange-400 sm:p-2 md:p-1 lg:p-2 rounded transition-all text-xl md:text-lg lg:text-xl duration-300"
								>
									Play
								</a>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
